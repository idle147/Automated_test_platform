# 概述

自动化测试平台（以下简称平台）由前端人机交互界面（以下简称UI界面）和后端自动化测试框架（以下简称框架）组成。

本项目是基于 徐德晨等前辈 撰写的**《高效自动化测试平台——设计与开发实战》**一书的**读书笔记**。同时，在代码上写了自己的相关注释，随着书本的学习深入而更新。

语言：python

# 选择

## 平台的选择标准

1.测试用例的复用、扩展能力：测试用例可以复用在同类产品的不同型号；根据测试对象,决定测试点的通过条件；底层组件进行封装说明生成详细的API文档。

2.测试工具的扩展能力：将设备或工具提供的接口封装成符合我们自己规范的接口或者模块；能够快速添加支持；相同操作逻辑的测试用例尽可能少的更改。

3.灵活配置和测试调度能力：可以按照使用者的意愿决定测试用例的执行数量与执行次数。

4.测试结果和报告：测试报告能够以树形或表格等数据结构清晰展示出来；能够进行横向或纵向比较；可以对测试结果提供补充说明

5.与CI/CD集成的能力：提供一定的方法集成到CI/CD的工具中，通过工具来测试，并将测试结果返回给CI/CD的工具中。【持续集成】

6.快速部署与较低的学习成本：不需要过多的额外配置，通过容器部署与销毁；完善的开发文档与使用文档；工具本身的易用性和使用逻辑的设计合理；用户可视化界面

7.跨平台兼容性考虑：定义跨编程语言模块之间的通信接口，如提供命令行调用的方式、远程RPC调用。

## 框架的选择标准

1. 测试框架能否满足团队日常的测试需求
2. 框架是否具有扩展性
3. 是否可以快速定位框架内部存在的问题
4. 与团队其他工具的兼容性

# 平台的基本设计

平台设计要保证**核心功能和业务分离**，即对核心业务进行总结和抽象。当在开发过程中发现**一个功能可以被大量地复用**时，就要考虑这些功能是否能够被**抽象出来**，并**添加到核心功能**中。本框架采用如下设计模型。

## 平台前后端分离

![108535_1](C:\Users\61042\AppData\Local\Temp\108535_1.png)

## 平台的三层架构

![108537_1](C:\Users\61042\AppData\Local\Temp\108537_1.png)
**表示层：** 测试用例
**中间层：** 测试平台（引用底层提供的功能，对特定的业务逻辑进行封装，将测试逻辑提供测试用例调用）
**数据层：** 具体的技术代码（比如和测试设备之间的通信协议、UI测试中对UI元素的封装、测试结果的存储、测试资源的序列化)。

# 框架的基本设计

![108539_1](C:\Users\61042\AppData\Local\Temp\108539_1.png)

## 模块的定义需要

1. 确定模块的功能边界，并且对功能的调用接口进行了严格的定义和封装 ，模块内部的逻辑不在直接暴露给外部。
2. 模块之间进行解耦合。例如：将查询的行为进行封装，让参数变得和具体SQL语言无关。
3. 功能设计时，将具体的业务进行分类，使得模块的调用关系呈现单向性、禁止相互依赖。
4. 设计先行，保障扩展性和维护性。

## 测试资源管理模块

1. 测试资源描述方法的定义
2. 测试资源的保存和读取
3. 测试资源的选择

## 测试配置管理模块

1. 配置的保存和堆区
2. 配置的自动生成和默认值
3. 动态配置的能力
4. 带逻辑功能的配置

## 测试用例执行模块

1. 测试资源、配置、和测试报告的初始化
2. 测试用例配置注入
3. 测试用例列表的执行逻辑

## 测试报告和日志模块

1. 测试步骤格式化输出
2. 测试执行过程的日志
3. 日志注册机制
4. 日志分类